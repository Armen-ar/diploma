# "Календарь" - планировщик задач.
### Требования к приложению:

1. Вход/регистрация/аутентификация через вк.

2. Создание целей.

 Выбор временного интервала цели с отображением кол-ва дней до завершения цели.
 Выбор категории цели (личные, работа, развитие, спорт и т. п.) с возможностью добавлять/удалять/обновлять категории.
 Выбор приоритета цели (статичный список minor, major, critical и т. п.).
 Выбор статуса выполнения цели (в работе, выполнен, просрочен, в архиве).

3. Изменение целей.

 Изменение описания цели.
 Изменение статуса.
 Дать возможность менять приоритет и категорию у цели.

4. Удаление цели.

 При удалении цель меняет статус на «в архиве».

5. Поиск по названию цели.

6. Фильтрация по статусу, категории, приоритету, году.
7. Выгрузка целей в CSV/JSON.
8. Заметки к целям.
9. Все перечисленные функции должны быть реализованы в мобильном приложении

### Приложение упаковано в Docker-контейнер.
стек (python3.9, Django, Postgres)

### Запуск приложения: 

Установить зависимости;

Заполнить .env + какими значениями, в котором следует хранить настройки по умолчанию;

Накатить миграции;

Запустить проект.

### Действия:

1. Создать новый проект с виртуальным окружением.

2. Установить poetry в консоли: команда `pip install poetry`, а затем команда `poetry init`, отвечая 'no' на вопросы 
создаётся в корне проекта файл "pyproject.toml" и командой `poetry install` создаётся в корне проекта файл
"poetry.lock". Kомандой `poetry add django` установить Django создать и командой django-проект и после командой
`python ./manage.py runserver` можно запустить приложение.

3. Создать app командой `python ./manage.py startapp core`, в корне создаётся папка приложение "core" с файлами.

4. В файле "core/models.py" добавить модель пользователя, которая наследуется от AbstractUser.

5. Настроить подключение к базе данных: Установить Postgres командой `docker-compose up -d`, создать базу данных, 
создать пользователя, назначить пароль пользователю, предоставить права пользователю на базу данных, создать 
миграцию командой `python manage.py makemigrations` и применить миграции командой `python manage.py migrate`.

6. Создать superuser (пользователя с ролью admin) командой `python ./manage.py createsuperuser`.

7. Отобразить поля в списке username, email, first_name, last_name. В admin.py создать класс с декоратором
"@admin.register", который добавляет (регистрирует апишки) с полем "list_display" и передать в него список
отображаемых полей.

8. Добавить поиск по полям: email, first_name, last_name, username. В admin.py в классе добавить поле "search_fields"
и передать в него значения поиска.

9. Добавить фильтры по полям: is_staff , is_active , is_superuser. В admin.py в классе добавить поле "list_filter"
и передать в него значения по фильтру.

10. Скрыть поле Password. В admin.py в классе добавить поле "exclude" и передать в него кортеж значения.

11. Сделать поля неизменяемыми: Last login, Date joined. В admin.py в классе добавить поле "readonly_fields" и
передать в него значения.

### Deploy: 

Создание Docker-образа;

Docker_compose;

Виртуальная машина;

Автоматическая сборка;

Автоматический деплой.

### Действия, потребуется 4 контейнера - front, api, migrations и postgres:

1. Заполнить файл Dockerfile.

2. Командой "docker build -t diploma ." создать контейнер с названием diploma.

3. Командой "docker network create diploma_network" создать сеть с названием diploma_network.

4. Командой "docker run -d --network=diploma_network --network-alias pg -e POSTGRES_USER=postgres
-e POSTGRES_PASSWORD=12345 -e POSTGRES_DB=todolist --name=pg -v ${pwd}/todolist_postgres_data:/var/lib/postgresql/data 
diploma" создать контейнер с postgres и директорию 'todolist_postgres_data' в корне проекта.

5. Командой "docker run --network=diploma_network -d -p 80:80 --name=diploma diploma" запустить контейнер в сети 
diploma_network, режим демона и пробросить порты.

6. Командой "docker exec -it diploma /bin/bash" войти в контейнер и там командой "_____" выполнить миграции

7. В dockerhub создать новый репозиторий и путь прописать в файле docker-compose.yaml.

8. 
 
